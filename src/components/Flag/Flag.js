import React from 'react'
import { connect } from 'react-redux'

function Flag(props) {
  if(!props.id || props.flags.length === 0){return (<div>Loading...</div>)}
  let target = props.flags.filter(val => +val.flag_id === +props.id)
  let color = "#" + target[0].flag_staff
  let flagColor = "#" + target[0].flag_color
  let altSymbol = target[0].flag_decoration
  // console.log(color)
  return (
    <div className="flag" style={{backgroundColor: color}}>
      <svg style={{fill: flagColor}} viewBox="0 0 23.27786 24.918225">
  <g id="layer1" transform="translate(-70.080574,-139.8619)">
    <path d="m 78.231426,164.74935 c -0.04586,-0.0233 -0.0993,-0.0791 -0.129979,-0.14146 -0.05448,-0.10592 -7.939196,-23.29882 -8.002275,-23.53702 -0.06301,-0.23868 0.0372,-0.44921 0.25342,-0.53171 0.19764,-0.0753 0.360989,0.0279 0.44613,0.28499 0.02968,0.0917 0.0499,0.11928 0.07002,0.10144 0.01798,-0.0175 0.126793,-0.005 0.300298,0.0238 1.407712,0.24293 3.330161,0.39041 4.174968,0.32084 0.639135,-0.0519 0.750169,-0.0922 1.8224,-0.60845 1.35382,-0.65525 1.862918,-0.82747 2.351969,-0.79644 0.355888,0.0234 0.598296,0.19689 0.766802,0.55062 0.121939,0.25611 0.17531,0.51807 0.259134,1.27263 0.04178,0.37372 0.08182,0.70981 0.08944,0.74669 0.01613,0.0773 0.01668,0.0774 0.578444,0.20314 1.488984,0.33102 3.068148,0.47927 4.793007,0.45071 1.588196,-0.0261 1.673635,-0.042 3.01416,-0.45075 1.566496,-0.48083 1.939629,-0.57903 2.194049,-0.57903 0.205855,0 0.221896,0.0262 0.144811,0.24003 -0.368647,1.02192 -0.578374,4.1759 -0.416287,6.2601 0.0748,0.96262 0.183746,1.47977 0.582311,2.76605 0.202679,0.65424 0.324143,1.01061 1.073307,3.14927 0.398195,1.13674 0.610902,1.80224 0.708937,2.218 0.09889,0.41846 0.10214,0.41745 -0.408249,0.12317 -1.305338,-0.75289 -2.570891,-1.26893 -3.675743,-1.49879 -0.653146,-0.13576 -0.827442,-0.15135 -1.685516,-0.14997 -0.706056,9.7e-4 -0.846171,0.006 -1.16118,0.055 -0.50272,0.0772 -0.87919,0.15813 -1.408255,0.29952 -0.563277,0.15079 -0.808428,0.19412 -1.208203,0.21395 -0.530749,0.026 -1.016448,-0.0512 -1.340551,-0.21525 -0.454154,-0.22923 -0.600165,-0.56433 -0.634587,-1.4556 -0.01808,-0.4729 -0.01992,-0.48425 -0.09098,-0.6048 -0.107336,-0.18252 -0.328423,-0.39082 -0.508871,-0.4794 -0.296948,-0.14581 -0.596774,-0.18005 -1.003534,-0.11554 -1.012679,0.16429 -2.434108,1.04573 -4.016015,2.48964 -0.160413,0.14658 -0.302211,0.25986 -0.315105,0.25177 -0.0132,-0.006 -0.02316,-0.005 -0.02316,0.003 0,0.008 0.661517,1.96471 1.47002,4.34409 0.809952,2.38316 1.470028,4.3636 1.470028,4.40993 0,0.12971 -0.08426,0.27686 -0.201923,0.35311 -0.11743,0.0758 -0.218388,0.0822 -0.333028,0.0274 z m -2.43748,-10.24447 c -0.02684,-1.70635 -0.121448,-2.72771 -0.364203,-3.92882 -0.215086,-1.06391 -0.404042,-1.59373 -1.010905,-2.83442 -0.540332,-1.10467 -0.715047,-1.49441 -1.188195,-2.64957 -0.389759,-0.95163 -0.627005,-1.45894 -0.821674,-1.75599 -0.07266,-0.11159 -0.351772,-0.48472 -0.619781,-0.8301 -0.26804,-0.34563 -0.554805,-0.72923 -0.637288,-0.85234 -0.08242,-0.12368 -0.144419,-0.20769 -0.137717,-0.18724 0.005,0.0215 1.049234,3.08861 2.316735,6.81877 1.267478,3.72998 2.337345,6.87922 2.377473,6.99803 0.04004,0.11947 0.07938,0.21609 0.0871,0.21609 0.006,0 0.005,-0.44734 -0.001,-0.99441 z" id="path3725" ></path>
  </g>
</svg>
{altSymbol ? <p id="symbol">{altSymbol}</p> : ''}
    </div>
  )
}

function mapStateToProps(state) {
  const { flags } = state
  return {
    flags,
  }
}

export default connect(mapStateToProps)(Flag)